const palakaImg = new Image();
palakaImg.src='asset1/palaka.png';

const mataImg = new Image();
mataImg.src='asset1/mata.png';

const barilImg = new Image();
barilImg.src='asset1/baril.png';

const sampayanImg = new Image();
sampayanImg.src='asset1/sampayan.png';

const maisImg = new Image();
maisImg.src='asset1/mais.png';

const posporoImg = new Image();
posporoImg.src='asset1/posporo.png';

const sumbreroImg = new Image();
sumbreroImg.src='asset1/sumbrero.png';

const damitImg = new Image();
damitImg.src='asset1/damit.png';

const batyaImg = new Image();
batyaImg.src='asset1/batya.png';

const pilikmataImg = new Image();
pilikmataImg.src='asset1/pilikmata.png';

const kandilaImg = new Image();
kandilaImg.src='asset1/kandila.png';

const ilawImg = new Image();
ilawImg.src='asset1/ilaw.png';

const zipperImg = new Image();
zipperImg.src='asset1/zipper.png';

const aninoImg = new Image();
aninoImg.src='asset1/anino.png';

const walisImg = new Image();
walisImg.src='asset1/walis.png';

const yoyoImg = new Image();
yoyoImg.src='asset1/yoyo.png';

const pakoImg = new Image();
pakoImg.src='asset1/pako.png';

const kampanaImg = new Image();
kampanaImg.src='asset1/kampana.png';

const aklatImg = new Image();
aklatImg.src='asset1/aklat.png';

const arawImg = new Image();
arawImg.src='asset1/araw.png';

const baboyImg = new Image();
baboyImg.src='asset1/baboy.png';

const bubuyogImg = new Image();
bubuyogImg.src='asset1/bubuyog.png';

const kalendaryoImg = new Image();
kalendaryoImg.src='asset1/kalendaryo.png';

const kulogImg = new Image();
kulogImg.src='asset1/kulog.png';

const kamayImg = new Image();
kamayImg.src='asset1/kamay.png';

const sinokImg = new Image();
sinokImg.src='asset1/sinok.png';

const sitawImg = new Image();
sitawImg.src='asset1/sitaw.png';

const staplerImg = new Image();
staplerImg.src='asset1/stapler.png';

const tutubiImg = new Image();
tutubiImg.src='asset1/tutubi.png';

const unanImg = new Image();
unanImg.src='asset1/unan.png';

const langgamImg = new Image();
langgamImg.src='asset1/langgam.jpg';

const panikiImg = new Image();
panikiImg.src='asset1/paniki.jpg';

const tipaklongImg = new Image();
tipaklongImg.src='asset1/tipaklong.png';

const alitaptapImg = new Image();
alitaptapImg.src='asset1/alitaptap.jpg';

const asoImg = new Image();
asoImg.src='asset1/aso.png';

const radyoImg = new Image();
radyoImg.src='asset1/radyo.png';



const duhatImg = new Image();
duhatImg.src='asset1/sampayan.png';

const kidlatImg = new Image();
kidlatImg.src='asset1/kidlat.png';

const manokImg = new Image();
manokImg.src='asset1/manok.png';

const langawImg = new Image();
langawImg.src='asset1/langaw.png';

const bundokImg = new Image();
bundokImg.src='asset1/bundok.png';

const ahasImg = new Image();
ahasImg.src='asset1/ahas.png';

const utotImg = new Image();
utotImg.src='asset1/utot.png';

const gumamelaImg = new Image();
gumamelaImg.src='asset1/gumamela.png';

const kuligligImg = new Image();
kuligligImg.src='asset1/kuliglig.png';

const kulamboImg = new Image();
kulamboImg.src='asset1/kulambo.png';

const bayabasImg = new Image();
bayabasImg.src='asset1/bayabas.png';

const kuwintasImg = new Image();
kuwintasImg.src='asset1/kwintas.png';

const mantikaImg = new Image();
mantikaImg.src='asset1/mantika.png';

const matsingImg = new Image();
matsingImg.src='asset1/matsing.png';

const sapatosImg = new Image();
sapatosImg.src='asset1/sapatos.png';

const paaImg = new Image();
paaImg.src='asset1/paa.png';

const kabuteImg = new Image();
kabuteImg.src='asset1/kabute.png';

const makopaImg = new Image();
makopaImg.src='asset1/makopa.png';

const banigImg = new Image();
banigImg.src='asset1/banig.png';

const sandokImg = new Image();
sandokImg.src='asset1/sandok.png';


const level1_Image = [
  'asset1/palaka.png', 'asset1/mata.png', 'asset1/baril.png', 'asset1/sampayan.png', 'asset1/mais.png', 'asset1/posporo.png', 'asset1/sumbrero.png','asset1/damit.png', 'asset1/batya.png',  'asset1/pilikmata.png', 'asset1/kandila.png', 'asset1/ilaw.png', 'asset1/zipper.png', 'asset1/anino.png', 'asset1/walis.png'
]


const level2_Image = [
  'asset1/yoyo.png', 'asset1/pako.png', 'asset1/kampana.png', 'asset1/aklat.png', 'asset1/araw.png', 'asset1/baboy.png', 'asset1/bubuyog.png', 'asset1/kalendaryo.png', 'asset1/kulog.png', 'asset1/kamay.png','asset1/sinok.png', 'asset1/sitaw.png', 'asset1/stapler.png', 'asset1/tutubi.png', 'asset1/unan.png', 'asset1/langgam.jpg' , 'asset1/paniki.jpg', 'asset1/tipaklong.png', 'asset1/alitaptap.jpg', 'asset1/aso.png'
]

const level3_Image = [
	 'asset1/radyo.png','asset1/baso.png', 'asset1/bibig.png', 'asset1/duhat.png', 'asset1/kidlat.png', 'asset1/manok.png', 'asset1/langaw.png', 'asset1/bundok.png', 'asset1/ahas.png', 'asset1/utot.png', 'asset1/gumamela.png', 'asset1/kuliglig.png', 'asset1/kulambo.png', 'asset1/bayabas.png', 'asset1/kwintas.png', 'asset1/mantika.png', 'asset1/matsing.png', 'asset1/sapatos.png', 'asset1/paa.png', 'asset1/kabute.png', 'asset1/makopa.png', 'asset1/banig.png', 'asset1/sandok.png'
]

const level1 = {
  palaka :  'Heto na si kaka bubuka-bukaka.',
  mata :  'Dalawang batong itim, malayo ang mararating.',
  baril: 'Sa maling kalabit, may buhay na kapalit.',
  sampayan: 'Hindi pari, hindi hari, nagdadamit ng sari-sari.',
  mais: 'May balbas ngunit walang mukha.',
  posporo: 'Maliit na bahay, puno ng patay.',
  sumbrero: 'Bumili ako ng alipin, mas mataas pa sa akin.',
  damit: 'Isa ang pasukan tatlo ang labasan.',
  batya: 'Hindi tao hindi hayop kung uminom ay salop salop.',
  pilikmata: 'Kay lapit-lapit na sa mata, dimo padin makita.',
  kandila: 'Kung kailan mo pinatay, saka pa humaba ang buhay.',
  ilaw: 'Isang butil ng palay, puno ang buong bahay.',
  zipper: 'Dumaan ang hari, nagkagatan ang mga pari.',
  anino: 'Ako ay may kaibigan kasama ko kahit saan.',
  walis: 'Isang hukbo ng sundalo, dikit-dikit ang mga ulo.',

};
const level2 = {
  yoyo : 'Ihagis mo man kahit saan, sadyang babalik at babalik sa pinanggalingan.',
  pako : 'Nagtago si pedro nakalabas ang ulo.',
  kampana : 'Hinila ko ang baging, sumigaw ang matsing.',
  aklat: 'Bahay ng salita, imbakan ng diwa.',
  araw : 'Ginto sa kalangitan, di matitigtitigan.',
  baboy : 'Kahit gaano linisin, marumi pa rin ang tingin.',
  bubuyog : 'Heto na si lulong, bubulong bulong.',
  kalendaryo : 'Araw araw bagong buhay, taon taon namamatay.',
  kulog : 'Baka ko sa pandakan, ang ingay nakararating kahit saan.',
  kamay : 'Limang magkakapatid, iisa ang dibdib.',
  sinok : 'Tunog sa lalamunan, tubig ang kailangan.',
  sitaw : 'Nang munti pa ay paru-paro, nang lumaki ay latigo.',
  stapler: 'Pagkagat ng madiin, naiiwan ang ngipin.',
  tutubi: 'May alaga akong hayop, malaki ang mata kaysa tuhod.',
  unan: 'Kung araw ay patung-patong, kung gabiy dugtung-dugtong.',
  langgam: 'Maliit pa si Nene nakakaakyat na sa tore.',
  paniki: 'Sa araw nahihimbing, sa gabi ay gising.',
  tipaklong: 'Ang ulo ay kabayo, ang leeg ay pare, ang katawan ay uod, ang paa ay lagare.',
  alitaptap: 'Eto na si bayaw dala-dala ay ilaw.',
  aso: 'Mataas kung nakaupo, mababa kung nakatayo.',



}
const level3 ={
  radyo: 'Mapa-gabi, mapa-araw, walang tigil sa kadadaldal, ngunit kapag nakainisan, atin itong pinapatay.',
  baso: 'Nakatindig ng walang paa, may tiyay walang bituka.',
  bibig: 'Isang balong malalim, puno ng patalim.',
  duhat: 'Noong maliit ay amerikano, nang lumaki ay negro.',
  kidlat: 'Apoy na iginuhit, isinulat sa langit.',
  manok: 'Tag-ulan o tag-araw, hanggang tuhod ang salawal.',
  langaw: 'Bisitang hindi inaasahan, nauuna sa hapag kainan.',
  bundok:  'Malapit kung tanawin, malayo kung lalakarin.',
  ahas: 'Baston ni kapitan, hindi ko mahawakan.',
  utot: 'Natawa ang nagbigay, nagalit ang pinagbigyan.',
  gumamela: 'Tinaga ko ang puno, sa dulo nagdurugo.'  ,
  kuliglig: 'Maliit pa si kumare, marunong ng humuni.' ,
  kulambo: 'Malaking supot ni mang jacob, kung sisidlan ay pataob.'  ,
  bayabas: 'Nakayuko ang reyna, hindi nalaglag ang korona.',
  kuwintas: 'Kadenay isinabit, sa batok nakakawit.',
  mantika: 'Kastila kung natutulog kapag gising ay tagalog.',
  matsing: 'Ang mukha ay parang tao, magaling lumukso.',
  sapatos: 'Alipin ng hari, hindi makalakad, kung hindi itali.',
  paa: 'Heto na ang magkapatid, nag-uunahang pumanhik.',
  kabute: ' Bahay ng anluwagi, Iisa ang haligi.',
  makopa: ' Kampanilya ni Kaka, laging mapula ang mukha.',
  banig: 'Kung gabi ay malapad, kung araw ay matangkad.',
  sandok: 'May puno walang bunga, may dahon walang sanga.',


}


const canvas = document.querySelector('#maincanvas');
const ctx = canvas.getContext('2d');
canvas.width = 1000;
canvas.height = 700;
const body = document.body;

const controls = document.createElement("div");
const end_message = document.createElement("div");
const wrapper = document.createElement("div");
const winner_message = document.createElement("div");
const Imagewrapper = document.createElement("div");
const Imageitem = document.createElement("img");
const Intro = document.createElement("div");
let words = Object.keys(level1);
let audioclickmenu = new Audio("asset/clickmenu.mp3");

let appear = true;
let ghost_appear = true;
let boom_appear = false;
let animate_indicator = 0;
let attack = 0;
let InitialTime = 0;
let FinalTime = 0;
let elapasetime = 0;
let level = 0;
let SCORE = 0;
let indicator = 0;
let randomWord = "",
randomHint = "";
let imagehint = "";
let winCount = 0,
lossCount = 0;
let leaderboard_ranking = [],
TimerinSecs = 0,
TimerinMins = 0,
TimerinHrs = 0;
let word_index = "";

  const intro = () => {
    Intro.className = "Introduction";
    Intro.id="Intro_div";
    Intro.innerHTML=`<p>Sa isang malayo at tahimik na lalawigan, may isang bata na nagngangalang Benjie ang naligaw sa lugar ng mga salamangkero. Doon ay may mga halimaw na umaatake sa kanya.</p> 

    <p>Nakita mo ang batang si Benjie at naisip mo itong tulungan. Ngunit isa ka lamang baguhang salamangkero at kinakailangan mo ng mga pangitain o bisyon. Ito ang makatutulong sa iyo upang masagutan ang mga bugtong dahil ito ang magbibigay sa iyo ng lakas o kapangyarihan upang masugpo ang mga halimaw at matulungan ang batang si Benjie.</p>`
    body.appendChild(Intro);


  }

  const menu = () =>{
    console.log(level)
    controls.className="controls-container";
    controls.innerHTML=`
    <div id="title">BUGTONG</div>
    <button id="start">Simulan</button>
    <button id="mechanics">Mekaniko</button>
    <button id="about_us">Tungkol sa Amin</button>
    <button id="leaderboard">Ang pinakamatalas</button>`;
    body.appendChild(controls);
    start(controls);
    mechanics(controls);
    aboutus(controls);
    Leaderboard(controls);

  }

  const start = (controls) =>{
    console.log(level)
    canvas.classList.remove("hide")
    const startBtn = controls.querySelector("#start");
    startBtn.addEventListener("click", e => {
      ghost_appear = true;
      appear = true;
      animate_indicator = 0;
      audioclickmenu.play();
      body.removeChild(controls);
      InitialTime = Date.now()
      level_decider();
      canvasload();
    })
  } 

  const mechanics = (controls) => {
    const mechanicBtn = controls.querySelector("#mechanics");
    mechanicBtn.addEventListener("click", e => {
      body.removeChild(controls);
        audioclickmenu.play();
        console.log("hi");
        const mechanicsText = document.createElement("div");
        mechanicsText.className="mech-wrapper"
        body.appendChild(mechanicsText);
        mechanicsText.innerHTML = `<div id='MECHANICS'>
<ul><li>Sa larong ito, may tatlong lebel o baitang ang nakapaloob. Ang madali, katamtaman at mahirap.</li><li>Ang bawat manlalaro ay kinakailangang hulaan ang mga nawawalang letra sa patlang.</li><li>Makikita sa taas ang bugtong o pahulaan na maaaring naka pangungusap o naka patanong. Isa itong palaisipan na may doble o nakatagong kahulugan at kailangan itong malutas.</li><li>Mayroon ka lamang bilang na pag-asa para masagot ang bugtong at ito ay mababawasan kung sakaling magkamali ka ng letrang pinili.</li></ul></div><button id='Close'>Back</button>`;
        const closeBtnn = document.getElementById("Close");
        closeBtnn.addEventListener("click", ()=>{
          body.appendChild(controls)
          audioclickmenu.play();
          mechanicsText.remove()
        }
        );
    })
  }

  const aboutus = (controls) =>{
    const aboutBtn = controls.querySelector("#about_us");
    aboutBtn.addEventListener("click", e => {
      body.removeChild(controls);
      audioclickmenu.play();
      const about_usText = document.createElement("div");
      about_usText.className="about_us-wrapper";
      body.appendChild(about_usText);
      about_usText.innerHTML = `<div id='about_US'>
      <span>Game Director and Level Designer</span>
      <ul>
      <li>De Vega</li>
      </ul>
      <br>
      <span>Graphic Designer / PPT creator</span>
      <ul>
      <li>Domer</li>
      </ul>
      <br>
      <span>Sound Engineer</span>
      <ul>
      <li>Cabanag</li>
      </ul>
      <br>
      <span>Game Designer</span>
      <ul>
      <li>Robles</li>
      </ul>
      <br>
      <span>Game Programmer</span>
      <ul>
      <li>Cabanag</li>
      <li>De Vega</li>
      <li>Domer</li>
      <li>Robles</li>
      </ul>
      </div>
      <button id='Close'>Back</button>`;
      const closeBtnn = document.getElementById("Close");
      closeBtnn.addEventListener("click", ()=>{
        body.appendChild(controls)
        audioclickmenu.play();
        about_usText.remove()
      }
      )
    })
  }

  const Leaderboard =(controls) => {
    const leadBtn = controls.querySelector("#leaderboard")
    leadBtn.addEventListener("click", e => {
      body.removeChild(controls);
      audioclickmenu.play();
      const leaderbrdText = document.createElement("div");
      leaderbrdText.className="leaderbrd-wrapper";
      body.appendChild(leaderbrdText);
      leaderbrdText.innerHTML = `<div id="_leaderboard"><div id="_Leaderboard" class='_Leaderboard'><span id="ranking_span_title">PINAKAMATALAS:</span></div></div>
      <button id='Close'>Back</button>`;
      let display_ranking = "";
      let sorted_leaderboard_ranking= leaderboard_ranking.sort((playerA,playerB)=>{
        if (playerA.id < playerB.id){return -1} 
        else if (playerA.id > playerB.id){return 1}
        else{return 0};
      })
      sorted_leaderboard_ranking.forEach((playeri, index)=> {
        display_ranking += `<span>Ika-${index+1}: ${playeri.name} {${playeri.displayTimerange}}</span>`;});

      const _Leaderboard = leaderbrdText.querySelector("#_Leaderboard");
      _Leaderboard.innerHTML += display_ranking;
      const closeBtnn = document.getElementById("Close");
      closeBtnn.addEventListener("click", ()=>{
        audioclickmenu.play();
        leaderbrdText.remove()
        body.appendChild(controls)
      }
      )
    })
  }

  const end_Message = (outcome) =>{
    console.log(level)
    blocker();
    end_message.className = "end_messages";
    end_message.innerHTML = `<div id="result"></div>
    <div id="word"></div>
    <button id="user_choice"></button`;
    const user_choice = end_message.querySelector("#user_choice");
    const word = end_message.querySelector("#word");
    const result_txt = end_message.querySelector("#result");
    body.appendChild(end_message)
    if (outcome == true){
      if (level == 1 & indicator == 5 || level == 2 & indicator == 5)  {
        result_txt.innerText = `Natalo ni Benjie ang kalaban dahil sayo`;
        user_choice.innerText=`Magpatuloy sa ika-${level + 1} baitang`;
        indicator = 0;
        canvasload()

        
      }else{
      result_txt.innerText = `Salamat ani Benjie`;
      user_choice.innerText=`LABAAAAN!!!`;}
    user_choice.addEventListener("click", () => {
      audioclickmenu.play();
      animate_indicator += 1;
      Continue();
      canvasload();
    });
    }
    else{
    result_txt.innerText = `Pumanaw si Benjie`;
    word.innerHTML = `Ang Salita ay: <span>${randomWord}</span>`;
    user_choice.innerText=`Ibalik si Benjie`;
    canvasload()
    user_choice.addEventListener("click", () => {
      audioclickmenu.play();
      body.removeChild(wrapper)
      body.removeChild(end_message)
      restart();
    });
    }

  }

  const Continue = () => {
    word_index = "";
    console.log(level)
    canvasload();
    body.removeChild(end_message);
    level_decider();
  }
  const restart = () => {
    words = Object.keys(level1);
    TimerinSecs = 0,
    TimerinMins = 0,
    TimerinHrs = 0;
    level = 0;
    SCORE = 0;
    indicator = 0;
    randomWord = "",
    randomHint = "";
    winCount = 0,
    lossCount = 0;
    console.log(level)
    word_index = "";
    appear = false;
    boom_appear = false;
    canvas.classList.add('hide')
    menu();
  }


  const level_decider = () =>{
    console.log(level)
    attack = 0;
    words = Object.keys(level1);
    lossCount = 3;
    if (level == 1)  {
      words = Object.keys(level2);
      lossCount = 2;
    } else if (level == 2){
      words = Object.keys(level3);
      lossCount = 1;
    };
    init();
  }

  const winner_condition = (outcome) =>{
    if (level == 3){
      canvasload()
      FinalTime = Date.now()
      elapasetime = FinalTime - InitialTime;
      let audiowingame = new Audio("asset/finishgame.mp3")
      audiowingame.play()
      winner_Message()
    }else{

    end_Message(outcome);}
    console.log(level)

  };

  const blocker = () => {
    console.log(level)
    let lettersButtons = document.querySelectorAll(".letters");
  };

  const generateRandomValue = (array) => Math.floor(Math.random() * array.length);

  const generateWord = () =>{
    console.log(level)
    const hintRef = wrapper.querySelector(".hint-ref");
    const userInpSection = wrapper.querySelector("#user-input-section");
    userInpSection.innerHTML = "";
    userInpSection.innerText = "";
    word_index=generateRandomValue(words)
    randomWord = words[word_index];

    if (level == 0){
      randomHint = level1[randomWord];
    }else if (level == 1){
      randomHint = level2[randomWord];
    }else if (level == 2){
      randomHint = level3[randomWord];} 

    hintRef.innerHTML = `<div id="wordHint">
    <span>Bugtong-bugtong: </span>${randomHint}</div>`;
    let displayItem = "";
    randomWord.split("").forEach((value) => {
      displayItem += '<div class="inputSpace"></div>';
    });
  
    //Display each element as span
    userInpSection.innerHTML = displayItem;
    userInpSection.innerHTML += `<div id='chanceCount'>Natitirang Pag-asa: ${lossCount}</div>`;
    userInpSection.innerHTML += `<div id='levelCount'>Baitang: ${level+1}</div>`;


  }

  


  const winner_Message = (outcome) =>{
    console.log(level)
    winner_message.className="winner_message";
    TimerinSecs = Math.floor((elapasetime/1000) % 60);
    TimerinMins = Math.floor((elapasetime/(1000*60)) % 60);
    TimerinHrs = Math.floor((elapasetime/(1000*60*60)) % 60);   
    winner_message.innerHTML=`<div id="winner_message_text">Magaling! natulungan mo si Benjie mula sa mga h</div>
    <span id="timer">Sa loob ng ${TimerinHrs}:${TimerinMins}:${TimerinSecs} oras </span>
    <form id="forms"><div id="input-div"><label for="playerInp"><input id="playerInp" type="text" placeholder="Pangalan" value="Di kilala"/><button id="nameBtn">Sang-ayon</button></label></div></form>
    <button id="return_menu">Bumalik sa Umpisa</button>`;
    const return_menu = winner_message.querySelector("#return_menu")
    const nameBtn = winner_message.querySelector("#nameBtn")
    canvasload()
    nameBtn.addEventListener('click',addPlayer);
    body.appendChild(winner_message)
    const formBtn = winner_message.querySelector("#nameBtn")
    formBtn.addEventListener("click",()=>{
      let audiosang_ayon = new Audio("asset/sang-ayon.mp3")
      audiosang_ayon.play() 
    })
    return_menu.addEventListener("click",()=>{
      audioclickmenu.play();
      body.removeChild(winner_message);
      body.removeChild(wrapper);
      canvas.classList.add(".hide")
      restart();
      console.log(leaderboard_ranking)
    })

  }

  const addPlayer = (e) => {
   e.preventDefault();
   let player_record = {
    id: elapasetime,
    name: winner_message.querySelector("#playerInp").value,
    displayTimerange: `${TimerinHrs}:${TimerinMins}:${TimerinSecs}`
   }
    leaderboard_ranking.push(player_record);
    winner_message.querySelector("#forms").reset();
  }

  const pangitain = (level) => {
    Imagewrapper.className = "Imageholder";
    Imagewrapper.id = "Imagecontainer";
    Imageitem.id = "Image_hint"
    if (level == 0){
      Imageitem.src = level1_Image[word_index];
    }else if (level == 1){
      Imageitem.src = level2_Image[word_index];
    }else if (level == 2){
      Imageitem.src = level3_Image[word_index];}


      body.appendChild(Imagewrapper);
      Imagewrapper.appendChild(Imageitem)
      Imageitem.addEventListener("click", ()=>{
        body.removeChild(Imagewrapper);
      })

  }


  const init = () =>{
    canvasload()
    console.log(level)
    wrapper.className=".wrapper";
    wrapper.innerHTML=`<div class="wrapper">
    <div class="hint-ref"></div>
    <div id="user-input-section"></div>
    <div id="message"></div>
    <div id="letter-container"></div>
    <button id="Imagebutton">Pangitain</button>
  </div>`
    body.appendChild(wrapper)
    const message = wrapper.querySelector("#message");
    const letterContainer = wrapper.querySelector("#letter-container");



    winCount = 0;
    randomWord = "";
    randomHint = "";
    message.innerText = "";

    letterContainer.innerHTML = "";
  

    generateWord(level);

    const Imagery = wrapper.querySelector("#Imagebutton")
    Imagery.addEventListener("click", (e)=>{
        pangitain(level)

      });


    for (let i = 65; i < 91; i++) {
      let button = document.createElement("button");
      button.classList.add("letters");
  
      //Number to ASCII[A-Z]
      button.innerText = String.fromCharCode(i);
  
      //Character button onclick
      button.addEventListener("click", () => {
        message.innerText = `Tamang Titik`;
        message.style.color = "#008000";
        let charArray = randomWord.toUpperCase().split("");
        let inputSpace = document.getElementsByClassName("inputSpace");

    //If array contains clicked value replace the matched Dash with Letter
    if (charArray.includes(button.innerText)) {
      charArray.forEach((char, index) => {
        //If character in array is same as clicked button
        if (char === button.innerText) {
          let audiocorrectletter = new Audio("asset/correctletter.mp3");
          audiocorrectletter.play()
          button.classList.add("correct");
          //Replace dash with letter
          inputSpace[index].innerText = char;
          inputSpace[index].style.background = "rgba(210,215,211,1)";
          inputSpace[index].style.borderColor = "rgba(82,32,119,1)";
          //increment counter
          winCount += 1;

          //If winCount equals word length
          if (winCount == charArray.length) {
            SCORE += 1;
            indicator +=1;
            if (SCORE == 5){
              SCORE -= 5;
              level += 1;
              attack = 1;
              console.log(level)
            };
            outcome = true;
            if (level == 0){
                let audiowinround1 = new Audio("asset/winround1.mp3");
                audiowinround1.play()
            }else if (level == 1){
                let audiowinround2 = new Audio("asset/winround2.mp3");
                audiowinround2.play()
            }else if (level == 2){
                let audiowinround3 = new Audio("asset/winround3.mp3");
                audiowinround3.play()
            };

            winner_condition(outcome);



          }
        }
      });
    }else {
      //lose count
      button.classList.add("incorrect");
      lossCount -= 1;
      document.getElementById(
        "chanceCount"
      ).innerText = `Natitirang Pag-asa: ${lossCount}`;
      message.innerText = `Maling Titik`;
      let audioincorrectletter = new Audio("asset/incorrectletter.mp3");
      audioincorrectletter.play()
      message.style.color = "#ff0000";
      if (lossCount == 0) {
        outcome = false;
        attack = 2;
        if (level == 0){
        let audioloseround1 =new Audio("asset/loseround1.mp3");
        audioloseround1.play()
        }else if (level == 1){
          let audioloseround2 = new Audio("asset/loseround2.mp3");
          audioloseround2.play()
        }else if (level == 2){
          let audioloseround3 = new Audio("asset/loseround3.mp3");
          audioloseround3.play()
        };
        end_Message(outcome);
      }

    }
    
      button.disabled = true;
  

    })

    letterContainer.appendChild(button);
  }}

  game_proccesor = () =>{
    intro()
    Intro.addEventListener("click", ()=>{
      body.removeChild(Intro)
      menu()
    })
    
  }
  
  game_proccesor();

const canvasload = () => {


let grassmonster_position = 700;
let Main_character_position = 100;
let grassmonster_repeat = 1;
let character_repeat = 1;
let hairmonster_repeat = 1;
let ghost_repeat = 1;
let boom_repeat = 0;

class Grassmonster {
  constructor(canvasWidth, canvasHeight){
      this.canvasWidth = canvasWidth;
      this.canvasHeight = canvasHeight;
      this.image = document.getElementById('grassmonster');
      this.spritewidth = 858;
      this.spriteHeight =605;
      this.width = this.spritewidth;
      this.height = this.spriteHeight;
      this.scale = 0.2;
      this.x = 700;
      this.y = 500;
      this.minFrame = 0;
      this.maxFrame = 86;
      this.gameframe = 0;
      this.frame = 0;
      this.frameX = 3;
      this.frameY = 7;
      this.staggerframe = 5;
      this.directionX = 8;

  }
  draw(context){
      context.drawImage(this.image, this.frameX * this.spritewidth, this.frameY * this.spriteHeight, this.spritewidth, this.spriteHeight, this.x, this.y, this.width * this.scale, this.height * this.scale);

  }
  update(repetition){
      if (this.gameframe % this.staggerframe == 0 ){
          if (this.frame < this.maxFrame) this.frame++
          else if (this.frame >= this.maxFrame & repetition == 1)this.frame = this.minFrame;
          this.frameX = this.frame % 10;
          this.frameY = Math.floor(this.frame / 10);}
      this.gameframe += 1;
      if (attack==2){
      this.x -= this.directionX;}
      if (this.x < 190 || this.x > 700){
          this.directionX = 0;
      }
      grassmonster_position = this.x;

  }

  setAnimation(newMinFrame, newMaxFrame){
      this.minFrame = newMinFrame;
      this.maxFrame = newMaxFrame;
      this.frame = this.minFrame;
  }
}

class CharacterMain {
  constructor(canvasWidth, canvasHeight){
      this.canvasWidth = canvasWidth;
      this.canvasHeight = canvasHeight;
      this.image = document.getElementById('boy');
      this.spritewidth = 746;
      this.spriteHeight =662;
      this.width = this.spritewidth;
      this.height = this.spriteHeight;
      this.scale = 0.25;
      this.x = 100;
      this.y = 450;
      this.minFrame = 0;
      this.maxFrame = 86;
      this.gameframe = 0;
      this.frame = 0;
      this.frameX = 3;
      this.frameY = 7;
      this.staggerframe = 5;
      this.directionX = 3.6;

  }
  draw(context){
      context.drawImage(this.image, this.frameX * this.spritewidth, this.frameY * this.spriteHeight, this.spritewidth, this.spriteHeight, this.x, this.y, this.width * this.scale, this.height * this.scale);

  }
  update(repetition){
      if (this.gameframe % this.staggerframe == 0 ){
          if (this.frame < this.maxFrame) this.frame++
          else if (this.frame >= this.maxFrame & repetition == 1)this.frame = this.minFrame;
          this.frameX = this.frame % 10;
          this.frameY = Math.floor(this.frame / 10);}
      this.gameframe += 1;
      if (attack==1){
      this.x += this.directionX;
        
    }
      if (this.x > 600 || this.x <100){
          this.directionX = 0;
      }
      Main_character_position = this.x;

  }

  setAnimation(newMinFrame, newMaxFrame){
      this.minFrame = newMinFrame;
      this.maxFrame = newMaxFrame;
      this.frame = this.minFrame;
  }
}

class Hairmonster {
  constructor(canvasWidth, canvasHeight){
      this.canvasWidth = canvasWidth;
      this.canvasHeight = canvasHeight;
      this.image = document.getElementById('hairmonster');
      this.spritewidth = 946;
      this.spriteHeight =821;
      this.width = this.spritewidth;
      this.height = this.spriteHeight;
      this.scale = 0.17;
      this.x = 700;
      this.y = 470;
      this.minFrame = 0;
      this.maxFrame = 20;
      this.gameframe = 0;
      this.frame = 0;
      this.frameX = 3;
      this.frameY = 7;
      this.staggerframe = 8;
      this.directionX = 4;

  }
  draw(context){
      context.drawImage(this.image, this.frameX * this.spritewidth, this.frameY * this.spriteHeight, this.spritewidth, this.spriteHeight, this.x, this.y, this.width * this.scale, this.height * this.scale);

  }
  update(repetition){
      if (this.gameframe % this.staggerframe == 0 ){
          if (this.frame < this.maxFrame) this.frame++
          else if (this.frame >= this.maxFrame & repetition == 1)this.frame = this.minFrame;
          this.frameX = this.frame % 10;
          this.frameY = Math.floor(this.frame / 10);}
      this.gameframe += 1;
      if (attack==2){
      this.x -= this.directionX;}
      if (this.x < 190 || this.x > 800){
          this.directionX = 0;
      }


  }

  setAnimation(newMinFrame, newMaxFrame){
      this.minFrame = newMinFrame;
      this.maxFrame = newMaxFrame;
      this.frame = this.minFrame;
  }
}

class Ghost {
  constructor(canvasWidth, canvasHeight){
      this.canvasWidth = canvasWidth;
      this.canvasHeight = canvasHeight;
      this.image = document.getElementById('mumu');
      this.spritewidth = 396;
      this.spriteHeight = 582;
      this.width = this.spritewidth;
      this.height = this.spriteHeight;
      this.scale = 0.2;
      this.x = 700;
      this.y = 450;
      this.minFrame = 0;
      this.maxFrame = 11;
      this.gameframe = 0;
      this.frame = 0;
      this.frameX = 3;
      this.frameY = 7;
      this.staggerframe = 8;
      this.directionX = 4.2;
      this.directionY = 0.5;




  }
  draw(context){
      context.drawImage(this.image, this.frameX * this.spritewidth, this.frameY, this.spritewidth, this.spriteHeight, this.x, this.y, this.width * this.scale, this.height * this.scale);

  }
  update(repetition){
      if (this.gameframe % this.staggerframe == 0 ){
          if (this.frame < this.maxFrame ) this.frame++
          else if (this.frame >= this.maxFrame &  repetition == 1) {this.frame = this.minFrame};
          this.frameX = this.frame % 10;
          this.frameY = Math.floor(this.frame / 10);}
      this.gameframe += 1;
      if (attack == 2){
      this.x -= this.directionX;}
      this.y -= this.directionY;
      if (this.x < 150 || this.x > 700){
          this.directionX = 0;}
      if (this.y > 460 || this.y < 440){
        this.directionY = this.directionY * -1
      }



  }

  setAnimation(newMinFrame, newMaxFrame){
      this.minFrame = newMinFrame;
      this.maxFrame = newMaxFrame;
      this.frame = this.minFrame;
  }
}

class Boom {
  constructor(canvasWidth, canvasHeight){
      this.canvasWidth = canvasWidth;
      this.canvasHeight = canvasHeight;
      this.image = document.getElementById('boom');
      this.spritewidth = 200;
      this.spriteHeight = 179;
      this.width = this.spritewidth;
      this.height = this.spriteHeight;
      this.scale = 1;
      this.x = 665;
      this.y = 465;
      this.minFrame = 0;
      this.maxFrame = 5;
      this.gameframe = 0;
      this.frame = 0;
      this.frameX = 3;
      this.frameY = 7;
      this.staggerframe = 8;





  }
  draw(context){
      context.drawImage(this.image, this.frameX * this.spritewidth, this.frameY, this.spritewidth, this.spriteHeight, this.x, this.y, this.width * this.scale, this.height * this.scale);

  }
  update(repetition){
      if (this.gameframe % this.staggerframe == 0 ){
          if (this.frame < this.maxFrame ) this.frame++
          else if (this.frame >= this.maxFrame &  repetition == 1) {this.frame = this.minFrame};
          this.frameX = this.frame % 10;
          this.frameY = Math.floor(this.frame / 10);}
      this.gameframe += 1;
  }

  setAnimation(newMinFrame, newMaxFrame){
      this.minFrame = newMinFrame;
      this.maxFrame = newMaxFrame;
      this.frame = this.minFrame;
  }
}

const main_character = new CharacterMain(canvas.width, canvas.height);
const grassmonster = new Grassmonster(canvas.width, canvas.height);
const hairmonster = new Hairmonster(canvas.width, canvas.height);
const ghost = new Ghost(canvas.width, canvas.height);
const boom = new Boom(canvas.width, canvas.height);

function animate(){
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  if (animate_indicator >= 0 & animate_indicator < 15 & appear == true){
  main_character.draw(ctx)
  main_character.update(character_repeat);}
  if (animate_indicator >= 0 & animate_indicator < 5 & appear == true & ghost_appear == true){
    ghost.draw(ctx);
    ghost.update(ghost_repeat);}
  else if (animate_indicator >= 5 & animate_indicator < 10 & appear == true){
      grassmonster.draw(ctx);
      grassmonster.update(grassmonster_repeat);}
  else if (animate_indicator >= 10 & animate_indicator < 15 &  appear == true){        
      hairmonster.draw(ctx);
      hairmonster.update(hairmonster_repeat);
  } 
  requestAnimationFrame(animate)}

  function animate_boom(){

    if (animate_indicator >= 0 & animate_indicator < 5 ||animate_indicator >= 10 & animate_indicator < 15 & boom_appear == true){
      boom.draw(ctx);
      boom.update(boom_repeat)}
      requestAnimationFrame(animate_boom)
    } 
 

  animate();
    /*for monster */

  const idlemonster = () => {
      grassmonster_repeat = 1;
      grassmonster.setAnimation(0,15);

  } 

  const attackmonster = () => {
    grassmonster_repeat = 0;
      grassmonster.setAnimation(16,53);
  }

  const defeatmonster = () => {
    grassmonster_repeat = 0;
      grassmonster.setAnimation(54,86);
  }

    if (attack != 2){
        if ( attack == 1){

            idlemonster()
            setTimeout(defeatmonster, 2000)
        }else{        
            idlemonster();}

    }
    else if (attack == 2){
      console.log("here")
        attackmonster();
        setTimeout(idlemonster, 3400);}
  
  //benjie     
  const idlebenjie= () => {
        character_repeat = 1;
        main_character.setAnimation(0,20);
    } 

    const attackbenjie= () => {
        character_repeat = 0;
        main_character.setAnimation(21,54);
    }

    const defeatbenjie = () => {
        character_repeat = 0;
        main_character.setAnimation(60,85);
    }

    const benjiexghost =( )=>{
      animate_boom();
      idlebenjie();
      ghost_appear = false;
    }

    if (attack != 1){
        if (attack == 2){
            idlebenjie()
            setTimeout(defeatbenjie, 1700)
        }else{        
            idlebenjie();}

    }
    else if (attack == 1){
       boom_appear= true;
        attackbenjie();
        setTimeout(benjiexghost, 2500);

    }
      //hair monster
    const idlehairmonster= () => {
      hairmonster_repeat = 1;
      hairmonster.setAnimation(0,7);
  } 

  const attackhairmonster= () => {
      hairmonster_repeat = 0;
      hairmonster.setAnimation(8,20);
  }

  const defeathairmonster= () => {
    hairmonster_repeat = 0;
    hairmonster.setAnimation(15,21);
} 

  if (attack != 2){
      if (attack == 1){
          idlehairmonster();
          setTimeout(defeathairmonster, 1500);
      }else{        
          idlehairmonster();}

  }
  else if (attack == 2){
      attackhairmonster();
      setTimeout(idlehairmonster, 1800);
  }      

  //ghost
const idleghost= () => {
    ghost_repeat = 1;
    ghost.setAnimation(0,11);
} 

const attackghost= () => {
    ghost_repeat = 1;
    ghost.setAnimation(0,11);
}

const defeatghost = () => {
      ghost_repeat = 1;
      ghost.setAnimation(0,11);

}

if (attack != 2){
    if (attack == 1){
        idleghost()
        setTimeout(defeatghost, 1500)
    }else{        
        idleghost();}

}
else if (attack == 2){
    attackghost()
    setTimeout(idlehairmonster, 1200)
}

}